{"version":3,"sources":["+custom.js","+individual.js","+furniture.js"],"names":["buildLatest","stream","latestTemplate","Handlebars","compile","$","html","registerHelper","passedString","firstLast","split","last","toLowerCase","SafeString","a","b","opts","fn","this","each","k","v","latest","append","formatStream","data","PERSON","text","names","reverse","length","_","includes","linkurl","linktext","document","ready","closeList","removeClass","d","Date","year","getFullYear","$hedButton","click","e","hasClass","addClass","siblings","stopPropagation","cookie","indexOf","setTimeout","window","scroll","scrollTop","fadeOut","ajax","dataType","url","success","cache"],"mappings":"AAAA,YCsBA,SAAAA,aAAAC,GACA,GAAAC,GAAAC,WAAAC,QAAAC,EAAA,cAAAC,OAEAH,YAAAI,eAAA,YAAA,SAAAC,GACA,GAAAC,GAAAD,EAAAE,MAAA,KACAC,EAAAF,EAAA,EAEA,OADAE,GAAAA,EAAAC,cACA,GAAAT,YAAAU,WAAAF,KAGAR,WAAAI,eAAA,QAAA,SAAAO,EAAAC,EAAAC,GACA,GAAAF,IAAAC,EACA,MAAAC,GAAAC,GAAAC,QAIAb,EAAAc,KAAAlB,EAAA,SAAAmB,EAAAC,GACA,GAAAC,GAAApB,EAAAmB,EACAhB,GAAA,WAAAkB,OAAAD,KAUA,QAAAE,cAAAC,GAEA,GAAAC,GAAArB,EAAA,sBAAAsB,OACA1B,EAAAwB,CAIApB,GAAAc,KAAAM,EAAA,SAAAL,EAAAC,GACA,GAAAO,GAAAP,EAAAO,MAAAlB,MAAA,KACAT,GAAAmB,GAAAQ,MAAAA,IAGA3B,EAAAA,EAAA4B,UAGAxB,EAAA,WAAAyB,OAAA,GACA9B,YAAAC,GAKAI,EAAAc,KAAAlB,EAAA,SAAAmB,EAAAC,IACAU,EAAAC,SAAAX,EAAAO,MAAAF,IAAAK,EAAAC,SAAAX,EAAAO,MAAA,SACAvB,EAAA,mBAAAkB,OAAA,eAAAF,EAAAY,QAAA,KAAAZ,EAAAa,SAAA,cCvEA7B,EAAA8B,UAAAC,MAAA,WAaA,QAAAC,KACAhC,EAAA,cAAAiC,YAAA,aACAjC,EAAA,gBAAAiC,YAAA,eAXA,GAAAC,GAAA,GAAAC,MACAC,EAAAF,EAAAG,aAEArC,GAAA,cAAAsB,KAAAc,EAWA,IAAAE,GAAAtC,EAAA,uBAGAsC,GAAAC,MAAA,SAAAC,GAIAF,EAAAG,SAAA,kBAAA,GAAAzC,EAAAa,MAAA4B,SAAA,kBAAA,EACAT,KAEAA,IACAhC,EAAAa,MAAA6B,SAAA,eACA1C,EAAAa,MAAA8B,SAAA,MAAAD,SAAA,cAEAF,EAAAI,oBAIA5C,EAAA,QAAAuC,MAAA,WACAP,MAKAF,SAAAe,OAAAC,QAAA,UAAA,EACA9C,EAAA,QAAA0C,SAAA,cAEA1C,EAAA,QAAAiC,YAAA,gBDzCAc,WAAA,WACA/C,EAAA,uBAAAiC,YAAA,kBACA,KAEAjC,EAAAgD,QAAAC,OAAA,WACAjD,EAAAgD,QAAAE,YAAA,IACAlD,EAAA,mBAAAmD,QAAA,OAkEAnD,EAAAoD,MACAC,SAAA,OACAC,IAAA,wFACAC,QAAApC,aACAqC,OAAA","file":"scripts-bundle.js","sourcesContent":["\"use strict\";","'use strict';\n\n/*\nglobal $:true, window:true, _:true, Handlebars:true\n*/\n\nsetTimeout(function () {\n  $('.overlay__container').removeClass('init--display');\n}, 1000);\n\n$(window).scroll(function () {\n  if ($(window).scrollTop() > 10) {\n    $('#health-overlay').fadeOut(500);\n  }\n});\n\n/*\n////////////////////////////////////////////////////////////////////////////////\n// BUILDING THE LATEST PAGE\n////////////////////////////////////////////////////////////////////////////////\n*/\n\nfunction buildLatest(stream) {\n  var latestTemplate = Handlebars.compile($('#hc-latest').html());\n\n  Handlebars.registerHelper('splitName', function (passedString) {\n    var firstLast = passedString.split(' ');\n    var last = firstLast[1];\n    last = last.toLowerCase();\n    return new Handlebars.SafeString(last);\n  });\n\n  Handlebars.registerHelper('ifAll', function (a, b, opts) {\n    if (a !== b) {\n      return opts.fn(this);\n    }\n  });\n\n  $.each(stream, function (k, v) {\n    var latest = latestTemplate(v);\n    $('#latest').append(latest);\n  });\n}\n\n/*\n////////////////////////////////////////////////////////////////////////////////\n// FORMATTING THE DATA\n////////////////////////////////////////////////////////////////////////////////\n*/\n\nfunction formatStream(data) {\n  // the individual we're looking for links for\n  var PERSON = $('.ch__side-block h4').text();\n  var stream = data;\n\n  // iterate through the data, creating an array for all the names in the name key\n  // then reassinging the names key in stream to that array\n  $.each(data, function (k, v) {\n    var names = v.names.split(', ');\n    stream[k].names = names;\n  });\n\n  stream = stream.reverse();\n\n  // if we are on the latest updates page, build the stream of updates\n  if ($('#latest').length > 0) {\n    buildLatest(stream);\n  }\n\n  // iterate over stream, and if each object's names array contains the name of the\n  // individual or 'All', and add that link to the person's related stories div\n  $.each(stream, function (k, v) {\n    if (_.includes(v.names, PERSON) || _.includes(v.names, 'All')) {\n      $('#related-stream').append('<p><a href=\\'' + v.linkurl + '\\'>' + v.linktext + '</a></p>');\n    }\n  });\n}\n\n$.ajax({\n  dataType: 'json',\n  url: 'http://interactives.dallasnews.com/data-store/2017/04-2017-healthcare-crossroads.json',\n  success: formatStream,\n  cache: false\n});","\"use strict\";\n\n$(document).ready(function () {\n    // injecting current year into footer\n    // DO NOT DELETE\n\n    var d = new Date();\n    var year = d.getFullYear();\n\n    $('.copyright').text(year);\n\n    // some code blocks require javascript to function, like slideshows, synopsis blocks, etc\n    // you can find that code here: https://github.com/DallasMorningNews/generator-dmninteractives/wiki/Cookbook\n\n    // closes any header dropdown menus and resets the up/down chevron\n    function closeList() {\n        $(\".open-list\").removeClass(\"open-list\");\n        $(\".open-button\").removeClass(\"open-button\");\n    }\n\n    var $hedButton = $(\".header-group button\");\n\n    // clicking any of the header dropdown menu buttons (i.e. \"topics\", or \"my account\")\n    $hedButton.click(function (e) {\n\n        // if the button that is clicked is already open, close the menu, else, close the\n        // menu then open the selected menu\n        if ($hedButton.hasClass(\"open-button\") === true && $(this).hasClass(\"open-button\") === true) {\n            closeList();\n        } else {\n            closeList();\n            $(this).addClass(\"open-button\");\n            $(this).siblings(\"ul\").addClass(\"open-list\");\n        }\n        e.stopPropagation();\n    });\n\n    // clicking anywhere in the body should close any open menus\n    $(\"body\").click(function () {\n        closeList();\n    });\n\n    // if the user is signed in, add the subscribed class to the body, which will reveal\n    // the proper my account menu items.\n    if (document.cookie.indexOf(\"DMN-P\") >= 0) {\n        $(\"body\").addClass(\"subscribed\");\n    } else {\n        $(\"body\").removeClass(\"subscribed\");\n    }\n});"]}